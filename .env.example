# =============================================================================
# Stargate Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit the actual .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# General Settings
# -----------------------------------------------------------------------------
TZ="America/New_York"
PUID=1000
PGID=1000

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
DOMAIN="example.local"                    # Primary internal domain
DOMAIN_INT="example.local"                # Internal domain (same as DOMAIN)
DOMAIN_EXT="example.com"                  # External/public domain
DDNS_DOMAIN="ddns.example.net"            # Dynamic DNS domain

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
HOST_IP=192.168.1.2                        # Docker host IP address
LAN_CIDR=192.168.1.0/24                    # Local network CIDR

# -----------------------------------------------------------------------------
# Admin Credentials
# -----------------------------------------------------------------------------
ADMIN_USERNAME="admin"
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD="your-secure-password-here"
ADMIN2_PASSWORD="your-secondary-password-here"

# AdGuard Home admin password
# Generate hash: htpasswd -nbB admin 'yourpassword' | cut -d: -f2
ADGUARD_ADMIN_PASSWORD="your-adguard-password"
ADGUARD_ADMIN_PASSWORD_HASHED='$2a$10$...'

# -----------------------------------------------------------------------------
# Cloudflare
# -----------------------------------------------------------------------------
CLOUDFLARE_EMAIL="your-cloudflare-email@example.com"
# Generate at: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_TOKEN="your-cloudflare-api-token"
# Tunnel token from Zero Trust dashboard
CLOUDFLARED_TOKEN="your-cloudflared-tunnel-token"

# -----------------------------------------------------------------------------
# Notifications
# -----------------------------------------------------------------------------
# Discord webhook for alerts
# Create at: Server Settings > Integrations > Webhooks
DISCORD_WEBHOOK_URL="https://discordapp.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN"
# Shoutrrr format: discord://token@webhookid
DISCORD_WEBHOOK_ENDPOINT="discord://YOUR_WEBHOOK_TOKEN@YOUR_WEBHOOK_ID"

# Telegram (optional)
TELEGRAM_BOT_API_KEY="your-telegram-bot-token"
TELEGRAM_BOT_CHAT_ID="your-telegram-chat-id"

# -----------------------------------------------------------------------------
# Security - CrowdSec
# -----------------------------------------------------------------------------
# Generate: cscli bouncers add traefik-bouncer
CROWDSEC_BOUNCER_KEY="your-crowdsec-bouncer-key"

# -----------------------------------------------------------------------------
# VPN / Mesh Networks
# -----------------------------------------------------------------------------
# Tailscale auth key from: https://login.tailscale.com/admin/settings/keys
TAILSCALE_AUTH_KEY="tskey-auth-xxxx"

# Beszel SSH public key
BESZEL_KEY="ssh-ed25519 AAAA..."

# Pangolin Newt credentials
NEWT_ID="your-newt-id"
NEWT_SECRET="your-newt-secret"

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
# Gatus authentication token (base64 encoded credentials)
# Generate: echo -n "user:password" | base64
GATUS_AUTH_TOKEN="your-base64-auth-token"

# Kromgo metrics URL
KROMGO_URL="https://stat.example.com/query?format=endpoint&metric=cluster_memory_usage"

# Portainer API key from: Settings > Users > API Keys
PORTAINER_API_KEY="ptr_your-portainer-api-key"

# -----------------------------------------------------------------------------
# Media Stack (*arr Applications)
# -----------------------------------------------------------------------------
# Find API keys in each app: Settings > General > Security
BAZARR_API_KEY="your-bazarr-api-key"
PROWLARR_API_KEY="your-prowlarr-api-key"
PROFILARR_API_KEY="your-profilarr-api-key"
SABNZBD_API_KEY="your-sabnzbd-api-key"

# -----------------------------------------------------------------------------
# CAPTCHA (hCaptcha)
# -----------------------------------------------------------------------------
# Get keys from: https://dashboard.hcaptcha.com/
HCAPTCHA_SITE_KEY="your-hcaptcha-site-key"
HCAPTCHA_SECRET_KEY="your-hcaptcha-secret-key"

# -----------------------------------------------------------------------------
# Authelia - Identity & Access Management
# -----------------------------------------------------------------------------
# Generate ALL secrets with: ./scripts/generate-authelia-secrets.sh
# Or generate individually as shown below

# Core secrets (128 bytes hex-encoded)
# Generate each with: openssl rand -hex 64
AUTHELIA_JWT_SECRET="your-128-byte-hex-secret"
AUTHELIA_SESSION_SECRET="your-128-byte-hex-secret"
AUTHELIA_STORAGE_ENCRYPTION_KEY="your-128-byte-hex-secret"

# OIDC Configuration
# HMAC secret (64 bytes): openssl rand -hex 32
AUTHELIA_OIDC_HMAC_SECRET="your-64-byte-hex-secret"

# Client secret (32 bytes): openssl rand -base64 32
AUTHELIA_OIDC_CLIENT_WEBAPP_SECRET="your-base64-client-secret"

# RSA private key (4096-bit)
# Generate: openssl genrsa 4096 | awk '{printf "%s\\n", $0}'
AUTHELIA_OIDC_ISSUER_PRIVATE_KEY='-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n'

# User password hash (Argon2id)
# Generate: docker run --rm authelia/authelia:latest authelia crypto hash generate argon2 --password 'yourpassword'
AUTHELIA_USER_ADMIN_PASSWORD_HASH='$argon2id$v=19$m=65536,t=3,p=4$...'

# Optional: SMTP for password reset emails
# AUTHELIA_SMTP_PASSWORD="your-smtp-password"
